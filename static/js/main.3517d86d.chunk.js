(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},115:function(e,t,n){},118:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(10),i=n(0),c=n.n(i),o=n(29),r=n.n(o),s=(n(109),n(35)),d=(n(110),n(32)),l=n.n(d),u=n(47),j=n(138),b=j.a.Meta,p=function(e){var t=e.imageUrl,n=e.title,i=e.desciption,c=function(e){return t&&0!==t.length?t:"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg"};return Object(a.jsx)(j.a,{hoverable:!0,style:{width:"100%",height:"100%"},cover:Object(a.jsx)("img",{style:{borderBottom:"1px solid #f0f0f0"},alt:c(),src:c()}),children:Object(a.jsx)(b,{title:n,description:i})})},f=n(57),h=n(36),g=n(140),m=n(56),O=n(55),w=n(63);w.a.initializeApp({apiKey:"AIzaSyCO2ql2jkewARMLsR3NObhRu4GFjnQ5Mak",authDomain:"d-model-86d23.firebaseapp.com",projectId:"d-model-86d23",storageBucket:"d-model-86d23.appspot.com",messagingSenderId:"894432064505",appId:"1:894432064505:web:02ff8840879d300b464328",measurementId:"G-D75XP97J5Q"});var x,v,y,k,S,C,I,E=w.a.firestore(),L=w.a.storage().ref(),z=(w.a,E.collection("character")),D=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",e.next=3,z.orderBy("name").startAt(t).endAt("".concat(t,"\uf8ff")).get();case 3:return n=e.sent,a=n.docs.map((function(e){return Object(O.a)(Object(O.a)({},e.data()),{id:e.id})})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,delete t.id,console.log(n,t),e.next=5,z.doc(n).update(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new File([""],"Xbot.glb");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=n(135),B=n(136),F=n(137),H=(n(115),function(e){var t=e.submidText,n=e.onChange,c=e.placeholder,o=e.loading,r=Object(i.useState)(null),d=Object(s.a)(r,2),l=d[0],u=d[1];return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(T.a,{className:"search-icon"}),Object(a.jsx)("input",{className:"input",onKeyDown:function(e){13===e.keyCode&&t&&t(l)},onChange:function(e){var t=e.target.value;u(t),n&&n(t)},value:l,placeholder:c}),!o&&l&&l.length>0&&Object(a.jsx)(B.a,{onClick:function(){u(""),n&&n("")},className:"empty-icon"}),o&&Object(a.jsx)(F.a,{className:"empty-icon"})]})}),P=(n(118),function(e){var t=e.navigation,n=Object(i.useState)([]),c=Object(s.a)(n,2),o=c[0],r=c[1],d=Object(i.useState)(""),j=Object(s.a)(d,2),b=j[0],O=j[1],w=Object(i.useState)(!1),x=Object(s.a)(w,2),v=x[0],y=x[1];Object(i.useEffect)((function(){k(),N()}),[]);var k=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,D(t);case 4:n=e.sent,r(n);case 6:return e.prev=6,y(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){k(b)}),[b]),Object(a.jsxs)("div",{children:[Object(a.jsx)(f.a,{style:{padding:20},alig:"middle",justify:"space-around",children:Object(a.jsx)(h.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,span:12,children:Object(a.jsx)(H,{placeholder:"Input a character name",allowClear:!0,onChange:function(e){O(e)},loading:v})})}),v&&Object(a.jsx)(f.a,{alig:"middle",justify:"space-around",children:Object(a.jsx)(h.a,{children:Object(a.jsx)(g.a,{size:"large",style:{marginTop:200}})})}),!v&&o.length>0&&Object(a.jsx)(f.a,{children:o.map((function(e){return Object(a.jsx)(h.a,{style:{padding:20},xs:24,sm:24,md:12,lg:6,xl:6,xxl:6,span:6,children:Object(a.jsx)("div",{onClick:function(){t.navigate("_3DObject",{selectedObject:e})},style:{width:"100%",height:"100%"},children:Object(a.jsx)(p,{imageUrl:e.imageUrl,title:e.name})})})}))}),!v&&0===o.length&&Object(a.jsx)(f.a,{alig:"middle",justify:"space-around",children:Object(a.jsx)(h.a,{style:{paddingTop:150},children:Object(a.jsx)(m.a,{})})})]})}),A=n(92),R=n(3),U=(n(127),n(93)),W=n(94),G=function(e){var t=e.takeScreenshotTrigger,n=e.character,c=e.setLoading;function o(){var e=document.getElementById("model");I=new R.i,(x=new R.hb).background=new R.j(10526880);var t=new R.r(16777215,4473924);t.position.set(0,20,0),x.add(t);var a=new R.k(16777215);a.position.set(3,10,10),a.castShadow=!0,a.shadow.camera.top=2,a.shadow.camera.bottom=-2,a.shadow.camera.left=-2,a.shadow.camera.right=2,a.shadow.camera.near=.1,a.shadow.camera.far=40,x.add(a);var i,c=new R.L(new R.Y(100,100),new R.N({color:10066329,depthWrite:!1}));c.rotation.x=-Math.PI/2,c.receiveShadow=!0,x.add(c),console.log(n),"GLTFLoader"===n.selectedObject.type?(i=n.selectedObject.modelUrl,(new A.a).load(i,(function(e){k=e.scene,x.add(k),k.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),(S=new R.jb(k)).visible=!1,x.add(S);var t=e.animations;C=new R.b(k),t.length,s()}))):function(e){var t=new W.a;t.crossOrigin="anonymous",t.load(e,(function(e){(k=e).position.x=0,k.position.y=0,k.position.z=0,x.add(k),k.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),(S=new R.jb(k)).visible=!1,x.add(S);var t=e.animations;C=new R.b(k),t.length,s()}))}(n.selectedObject.modelUrl),(v=new R.wb({antialias:!0})).setPixelRatio(window.devicePixelRatio),v.setSize(window.innerWidth,window.innerHeight),v.outputEncoding=R.xb,v.shadowMap.enabled=!0,e.appendChild(v.domElement),(y=new R.X(n.selectedObject.configuration.fov,window.innerWidth/window.innerHeight,n.selectedObject.configuration.near,n.selectedObject.configuration.far)).position.set(n.selectedObject.configuration.x,n.selectedObject.configuration.y,n.selectedObject.configuration.z);var o=new U.a(y,v.domElement);o.enablePan=!1,o.enableZoom=!1,o.target.set(0,1,0),o.update(),window.addEventListener("resize",r,!1)}function r(){y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),v.setSize(window.innerWidth,window.innerHeight)}function s(){requestAnimationFrame(s);var e=I.getDelta();C.update(e),v.render(x,y)}return Object(i.useEffect)((function(){o()}),[]),Object(i.useEffect)((function(){t&&function(){c(!0),v.render(x,y);var e="Loli"+Date.now();v.domElement.toBlob((function(t){(new Image).src=t,L.child("image/"+e).put(t,{contentType:"image/png"}).then((function(e){e.ref.getDownloadURL().then((function(e){c(!1),M(Object(O.a)(Object(O.a)({},n.selectedObject),{imageUrl:e}))}))}))}))}()}),[t]),Object(a.jsx)("div",{style:{position:"absolute",zIndex:0},id:"model"})},J=n(142),X=n(95),q=n(99),K=n(139),Q=(n(132),K.a.Option,{configuration:{initComponent:"Home"},components:[{key:"Home",component:P},{key:"_3DObject",component:function(e){var t=e.navigation,n=e.data,c=Object(i.useState)(),o=Object(s.a)(c,2),r=o[0],d=o[1],l=Object(i.useState)(!1),u=Object(s.a)(l,2),j=u[0],b=u[1];return Object(a.jsxs)("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[Object(a.jsx)(G,{takeScreenshotTrigger:r,character:n,setLoading:function(e){b(e)}}),Object(a.jsxs)("div",{style:{position:"absolute",right:40,bottom:40,textAlign:"center"},onClick:function(){return d(Date.now())},children:[j?Object(a.jsx)(g.a,{size:"large"}):Object(a.jsx)(J.a,{style:{fontSize:60}}),Object(a.jsx)("div",{style:{},children:"Screenshot"})]}),Object(a.jsx)("div",{style:{position:"absolute",top:20,display:"flex",flexDirection:"row",flex:1,width:"100%"},children:Object(a.jsx)(f.a,{style:{flex:1},children:Object(a.jsx)(h.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,span:12,children:Object(a.jsx)("div",{style:{width:"100%",display:"flex",direction:"row",paddingRight:10,paddingLeft:10},children:Object(a.jsx)("div",{className:"containerHomeButton",onClick:function(){t.navigate("Home",{})},children:Object(a.jsx)(X.a,{icon:q.a,className:"homeIcon"})})})})})})]})}}]});var _=function(){var e=Object(i.useState)({key:Q.configuration.initComponent,data:{}}),t=Object(s.a)(e,2),n=t[0],a=t[1];return c.a.createElement(Q.components.find((function(e){return e.key===n.key})).component,{navigation:{navigate:function(e,t){a({key:e,data:t})}},data:n.data})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(_,{})}),document.getElementById("root")),Y()}},[[133,1,2]]]);
//# sourceMappingURL=main.3517d86d.chunk.js.map