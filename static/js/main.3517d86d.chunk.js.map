{"version":3,"sources":["component/screens/Home/ObjectCard/index.js","services/firebase/index.js","component/screens/_3DObject/Obj2.js","services/character.js","component/common/SelectBox/index.js","component/screens/Home/index.js","App.js","component/screens/_3DObject/index.js","reportWebVitals.js","index.js"],"names":["Meta","Card","ObjectCard","imageUrl","title","desciption","getSrc","src","length","hoverable","style","width","height","cover","borderBottom","alt","description","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","scene","renderer","camera","model","skeleton","mixer","clock","firestore","storageRef","storage","ref","db","collection","search","a","searchValue","orderBy","startAt","endAt","get","docData","data","docs","map","doc","id","updateCharacter","character","console","log","update","uploadFile","File","SelectBox","submidText","onChange","placeholder","loading","useState","text","setText","className","SearchOutlined","onKeyDown","e","keyCode","value","target","CloseOutlined","onClick","LoadingOutlined","Home","navigation","characters","setCharacters","filterValue","setFilterValue","setLoading","useEffect","callSearchCharacter","res","padding","alig","justify","xs","sm","md","lg","xl","xxl","span","allowClear","size","marginTop","item","navigate","selectedObject","name","paddingTop","Obj2","takeScreenshotTrigger","init","container","document","getElementById","THREE","background","hemiLight","position","set","add","dirLight","castShadow","shadow","top","bottom","left","right","near","far","url","mesh","color","depthWrite","rotation","x","Math","PI","receiveShadow","type","modelUrl","GLTFLoader","load","gltf","traverse","object","isMesh","visible","animations","animate","loader","OBJLoader","crossOrigin","y","z","loadObjModel","antialias","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","outputEncoding","shadowMap","enabled","appendChild","domElement","configuration","fov","controls","OrbitControls","enablePan","enableZoom","addEventListener","onWindowResize","aspect","updateProjectionMatrix","requestAnimationFrame","mixerUpdateDelta","getDelta","render","Date","now","toBlob","blob","Image","child","put","contentType","then","snapshot","getDownloadURL","downloadURL","takeScreenshot","zIndex","Select","Option","initComponent","components","key","component","setTakeScreenshotTrigger","textAlign","CameraFilled","fontSize","display","flexDirection","flex","direction","paddingRight","paddingLeft","icon","faArrowLeft","App","currentComponent","setCurrentComponent","React","createElement","find","componentKey","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.3517d86d.chunk.js","sourcesContent":["import React from \"react\";\nimport { Card, Skeleton } from \"antd\";\nconst { Meta } = Card;\n\nconst ObjectCard = ({ imageUrl, title, desciption }) => {\n  const getSrc = (src) => {\n    const defaultSrc =\n      \"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\";\n    if (!imageUrl || imageUrl.length === 0) {\n      return defaultSrc;\n    }\n    return imageUrl;\n  };\n  return (\n    <Card\n      hoverable\n      style={{ width: \"100%\", height: \"100%\" }}\n      cover={\n        <img\n          style={{ borderBottom: \"1px solid #f0f0f0\" }}\n          alt={getSrc(imageUrl)}\n          src={getSrc(imageUrl)}\n        />\n      }\n    >\n      <Meta title={title} description={desciption} />\n    </Card>\n  );\n};\n\nexport default ObjectCard;\n","import firebase from \"firebase\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCO2ql2jkewARMLsR3NObhRu4GFjnQ5Mak\",\n  authDomain: \"d-model-86d23.firebaseapp.com\",\n  projectId: \"d-model-86d23\",\n  storageBucket: \"d-model-86d23.appspot.com\",\n  messagingSenderId: \"894432064505\",\n  appId: \"1:894432064505:web:02ff8840879d300b464328\",\n  measurementId: \"G-D75XP97J5Q\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst firestore = firebase.firestore();\nconst storageRef = firebase.storage().ref();\n\nconst sleep = (milliseconds) => {\n  return new Promise((resolve) => setTimeout(resolve, milliseconds));\n};\n\nexport { firestore, sleep, storageRef };\n\nexport default firebase;\n","import ReactDOM from \"react-dom\";\nimport React, { useEffect } from \"react\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport * as THREE from \"three\";\nimport Stats from \"three/examples/jsm/libs/stats.module.js\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { updateCharacter } from \"../../../services/character\";\nimport { storageRef } from \"../../../services/firebase\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\n\nlet scene, renderer, camera, stats;\nlet model, skeleton, mixer, clock;\n\nconst allActions = [];\nconst baseActions = {\n  idle: { weight: 1 },\n  walk: { weight: 0 },\n  run: { weight: 0 },\n};\nconst additiveActions = {\n  sneak_pose: { weight: 0 },\n  sad_pose: { weight: 0 },\n  agree: { weight: 0 },\n  headShake: { weight: 0 },\n};\nlet numAnimations;\n\nconst Obj2 = ({ takeScreenshotTrigger, character, setLoading }) => {\n  function loadObjModel(url) {\n    const loader = new OBJLoader();\n    loader.crossOrigin = \"anonymous\";\n\n    loader.load(\n      url,\n      // \"https://gitlab.com/touchio/3d-model/-/raw/load_model/public/obj.obj?inline=false\",\n      // \"http://firebasestorage.googleapis.com/v0/b/d-model-86d23.appspot.com/o/file%2Fobj.obj?alt=media&token=3c4d49fc-f62c-44fa-8604-06ba614ff9c0\",\n      function (gltf) {\n        model = gltf;\n        model.position.x = 0;\n        model.position.y = 0;\n        model.position.z = 0;\n        scene.add(model);\n\n        model.traverse(function (object) {\n          if (object.isMesh) object.castShadow = true;\n        });\n\n        skeleton = new THREE.SkeletonHelper(model);\n        skeleton.visible = false;\n        scene.add(skeleton);\n\n        const animations = gltf.animations;\n        mixer = new THREE.AnimationMixer(model);\n\n        numAnimations = animations.length;\n        animate();\n      }\n    );\n  }\n  function loadGLTFModel(url) {\n    const loader = new GLTFLoader();\n    loader.load(\n      // \"https://github.com/mrdoob/three.js/raw/dev/examples/models/gltf/Xbot.glb\",\n      // \"https://github.com/Mugen87/dive/raw/master/app/models/soldier.glb\",\n      // \"https://github.com/tattn/VRMKit/raw/master/Tests/Resources/AliciaSolid.vrm\",\n      url,\n      function (gltf) {\n        model = gltf.scene;\n        scene.add(model);\n\n        model.traverse(function (object) {\n          if (object.isMesh) object.castShadow = true;\n        });\n\n        skeleton = new THREE.SkeletonHelper(model);\n        skeleton.visible = false;\n        scene.add(skeleton);\n\n        const animations = gltf.animations;\n        mixer = new THREE.AnimationMixer(model);\n\n        numAnimations = animations.length;\n\n        animate();\n      }\n    );\n  }\n  function init() {\n    const container = document.getElementById(\"model\");\n    clock = new THREE.Clock();\n\n    scene = new THREE.Scene();\n    scene.background = new THREE.Color(0xa0a0a0);\n    // scene.fog = new THREE.Fog(0xa0a0a0, 30, 150);\n\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\n    hemiLight.position.set(0, 20, 0);\n    scene.add(hemiLight);\n\n    const dirLight = new THREE.DirectionalLight(0xffffff);\n    dirLight.position.set(3, 10, 10);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.top = 2;\n    dirLight.shadow.camera.bottom = -2;\n    dirLight.shadow.camera.left = -2;\n    dirLight.shadow.camera.right = 2;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 40;\n    scene.add(dirLight);\n    // ground\n\n    const mesh = new THREE.Mesh(\n      new THREE.PlaneBufferGeometry(100, 100),\n      new THREE.MeshPhongMaterial({ color: 0x999999, depthWrite: false })\n    );\n    mesh.rotation.x = -Math.PI / 2;\n    mesh.receiveShadow = true;\n    scene.add(mesh);\n    console.log(character);\n    if (character.selectedObject.type === \"GLTFLoader\") {\n      loadGLTFModel(character.selectedObject.modelUrl);\n    } else {\n      loadObjModel(character.selectedObject.modelUrl);\n    }\n    // loadObjModel();\n    renderer = new THREE.WebGLRenderer({ antialias: true });\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.outputEncoding = THREE.sRGBEncoding;\n    renderer.shadowMap.enabled = true;\n    container.appendChild(renderer.domElement);\n    // camera\n\n    camera = new THREE.PerspectiveCamera(\n      character.selectedObject.configuration.fov,\n      window.innerWidth / window.innerHeight,\n      character.selectedObject.configuration.near,\n      character.selectedObject.configuration.far\n    );\n    camera.position.set(\n      character.selectedObject.configuration.x,\n      character.selectedObject.configuration.y,\n      character.selectedObject.configuration.z\n    );\n    // camera = new THREE.PerspectiveCamera(\n    //   90,\n    //   window.innerWidth / window.innerHeight,\n    //   1,\n    //   1150\n    // );\n    // camera.position.set(0, 50, 100);\n\n    //man\n\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.enablePan = false;\n    controls.enableZoom = false;\n    controls.target.set(0, 1, 0);\n    controls.update();\n\n    // stats = new Stats();\n    // container.appendChild(stats.dom);\n\n    window.addEventListener(\"resize\", onWindowResize, false);\n  }\n\n  function activateAction(action) {\n    const clip = action.getClip();\n    const settings = baseActions[clip.name] || additiveActions[clip.name];\n    setWeight(action, settings.weight);\n    action.play();\n  }\n\n  function setWeight(action, weight) {\n    action.enabled = true;\n    action.setEffectiveTimeScale(1);\n    action.setEffectiveWeight(weight);\n  }\n\n  function onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  function animate() {\n    requestAnimationFrame(animate);\n\n    // for (let i = 0; i !== numAnimations; ++i) {\n    //   const action = allActions[i];\n    //   const clip = action.getClip();\n    //   const settings = baseActions[clip.name] || additiveActions[clip.name];\n    //   settings.weight = action.getEffectiveWeight();\n    // }\n\n    // Get the time elapsed since the last frame, used for mixer update\n\n    const mixerUpdateDelta = clock.getDelta();\n\n    // Update the animation mixer, the stats panel, and render this frame\n\n    mixer.update(mixerUpdateDelta);\n\n    // stats.update();\n\n    renderer.render(scene, camera);\n  }\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  function takeScreenshot() {\n    setLoading(true);\n    renderer.render(scene, camera);\n    // renderer.domElement.toBlob(\n    //   function (blob) {\n    //     var a = document.createElement(\"a\");\n    //     var url = URL.createObjectURL(blob);\n    //     a.href = url;\n    //     a.download = \"Girl.png\";\n    //     a.click();\n    //   },\n    //   \"image/png\",\n    //   1.0\n    // );\n    let name = \"Loli\" + Date.now();\n    renderer.domElement.toBlob(function (blob) {\n      var metadata = {\n        contentType: \"image/png\",\n      };\n      var image = new Image();\n      image.src = blob;\n      storageRef\n        .child(\"image/\" + name)\n        .put(blob, metadata)\n        .then((snapshot) => {\n          snapshot.ref.getDownloadURL().then(function (downloadURL) {\n            setLoading(false);\n            updateCharacter({\n              ...character.selectedObject,\n              ...{\n                imageUrl: downloadURL,\n              },\n            });\n          });\n        });\n    });\n  }\n\n  useEffect(() => {\n    if (takeScreenshotTrigger) takeScreenshot();\n  }, [takeScreenshotTrigger]);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        zIndex: 0,\n      }}\n      id=\"model\"\n    />\n  );\n};\nexport default Obj2;\n","import { firestore, sleep, storageRef } from \"./firebase\";\n\nconst db = firestore.collection(\"character\");\n\nconst character_dump = {\n  id: \"\",\n  name: \"\",\n  imageUrl: \"\",\n};\n\nexport const addCharacter = () => {\n  db.add({\n    id: \"dLTD5o5kLp5buGexzrc2\",\n    imageUrl:\n      \"https://firebasestorage.googleapis.com/v0/b/d-model-86d23.appspot.com/o/image%2FLoli1611470872320?alt=media&token=01376524-7b74-4fbf-8759-2f1a720bf60c\",\n    modelUrl: \"obj2.obj\",\n    name: \"Man\",\n    type: \"OBJLoader\",\n    configuration: { far: 1150, fov: 90, near: 1, x: 0, y: 150, z: 300 },\n  });\n};\n\nexport const getFile = async (image) => {\n  storageRef\n    .child(`images/${image}`)\n    .getDownloadURL()\n    .then((url) => {\n      // `url` is the download URL for 'images/stars.jpg'\n      console.log(\"url\", url);\n      // This can be downloaded directly:\n      // var xhr = new XMLHttpRequest();\n      // xhr.responseType = 'blob';\n      // xhr.onload = (event) => {\n      //   var blob = xhr.response;\n      // };\n      // xhr.open('GET', url);\n      // xhr.send();\n\n      // Or inserted into an <img> element\n      // var img = document.getElementById('myimg');\n      // img.setAttribute('src', url);\n    })\n    .catch((error) => {\n      // Handle any errors\n      console.log(\"err\", error);\n    });\n};\nexport const search = async (searchValue = \"\") => {\n  // await sleep(1500);\n  const docData = await db\n    .orderBy(\"name\")\n    .startAt(searchValue)\n    .endAt(`${searchValue}\\uf8ff`)\n    .get();\n  const data = docData.docs.map((doc) => {\n    return { ...doc.data(), ...{ id: doc.id } };\n  });\n  return data;\n};\nexport const updateCharacter = async (character) => {\n  const id = character.id;\n  delete character.id;\n  console.log(id, character);\n  await db.doc(id).update(character);\n};\nexport const uploadFile = async () => {\n  var file = new File([\"\"], \"Xbot.glb\");\n  // storageRef\n  //   .child(\"file/\" + \"Xbot.glb\")\n  //   .put(file)\n  //   .then((snapshot) => {\n  //     console.log(\"Uploaded.\");\n  //     snapshot.ref.getDownloadURL().then(function (downloadURL) {\n  //       console.log(downloadURL);\n  //     });\n  //   });\n};\n","import React, { useState, useEffect } from \"react\";\nimport {\n  SearchOutlined,\n  CloseOutlined,\n  LoadingOutlined,\n} from \"@ant-design/icons\";\nimport \"./styles.scss\";\n\nconst SelectBox = ({ submidText, onChange, placeholder, loading }) => {\n  const [text, setText] = useState(null);\n  const handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      if (submidText) submidText(text);\n    }\n  };\n  const handleOnChange = (e) => {\n    const value = e.target.value;\n    setText(value);\n    if (onChange) onChange(value);\n  };\n  const clearText = () => {\n    setText(\"\");\n    if (onChange) onChange(\"\");\n  };\n  return (\n    <div className=\"container\">\n      <SearchOutlined className=\"search-icon\" />\n      <input\n        className=\"input\"\n        onKeyDown={handleKeyDown}\n        onChange={handleOnChange}\n        value={text}\n        placeholder={placeholder}\n      />\n      {!loading && text && text.length > 0 && (\n        <CloseOutlined onClick={clearText} className=\"empty-icon\" />\n      )}\n      {loading && <LoadingOutlined className=\"empty-icon\" />}\n    </div>\n  );\n};\nexport default SelectBox;\n","import React, { useState, useEffect } from \"react\";\nimport ObjectCard from \"./ObjectCard\";\nimport { Row, Col, Spin, Empty } from \"antd\";\nimport {\n  search,\n  saveFile,\n  getFile,\n  addCharacter,\n  uploadFile,\n} from \"../../../services/character\";\n\nimport SelectBox from \"../../common/SelectBox\";\nimport \"./styles.scss\";\n\nconst Home = ({ navigation }) => {\n  const [characters, setCharacters] = useState([]);\n  const [filterValue, setFilterValue] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    callSearchCharacter();\n    // saveFile(\"logo512.png\");\n    // getFile(\"logo512.png\");\n    uploadFile();\n  }, []);\n\n  const callSearchCharacter = async (searchValue) => {\n    setLoading(true);\n    try {\n      const res = await search(searchValue);\n      setCharacters(res);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onSearch = (value) => {\n    setFilterValue(value);\n  };\n\n  useEffect(() => {\n    callSearchCharacter(filterValue);\n  }, [filterValue]);\n\n  return (\n    <div>\n      <Row style={{ padding: 20 }} alig=\"middle\" justify=\"space-around\">\n        <Col xs={24} sm={24} md={12} lg={12} xl={12} xxl={12} span={12}>\n          <SelectBox\n            placeholder=\"Input a character name\"\n            allowClear\n            onChange={onSearch}\n            loading={loading}\n          />\n        </Col>\n      </Row>\n      {loading && (\n        <Row alig=\"middle\" justify=\"space-around\">\n          <Col>\n            <Spin size=\"large\" style={{ marginTop: 200 }} />\n          </Col>\n        </Row>\n      )}\n      {!loading && characters.length > 0 && (\n        <Row>\n          {characters.map((item) => (\n            <Col\n              style={{ padding: 20 }}\n              xs={24}\n              sm={24}\n              md={12}\n              lg={6}\n              xl={6}\n              xxl={6}\n              span={6}\n            >\n              <div\n                onClick={() => {\n                  navigation.navigate(\"_3DObject\", { selectedObject: item });\n                }}\n                style={{ width: \"100%\", height: \"100%\" }}\n              >\n                <ObjectCard imageUrl={item.imageUrl} title={item.name} />\n              </div>\n            </Col>\n          ))}\n        </Row>\n      )}\n      {!loading && characters.length === 0 && (\n        <Row alig=\"middle\" justify=\"space-around\">\n          <Col style={{ paddingTop: 150 }}>\n            <Empty />\n          </Col>\n        </Row>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Home from \"./component/screens/Home\";\nimport _3DObject from \"./component/screens/_3DObject\";\n\nconst navigation = {\n  configuration: {\n    initComponent: \"Home\",\n  },\n  components: [\n    { key: \"Home\", component: Home },\n    { key: \"_3DObject\", component: _3DObject },\n  ],\n};\n\nfunction App() {\n  const [currentComponent, setCurrentComponent] = useState({\n    key: navigation.configuration.initComponent,\n    data: {},\n  });\n  const navigate = (componentKey, data) => {\n    setCurrentComponent({\n      key: componentKey,\n      data,\n    });\n  };\n  return React.createElement(\n    navigation.components.find(\n      (component) => component.key === currentComponent.key\n    ).component,\n    { navigation: { navigate }, data: currentComponent.data }\n  );\n}\n\nexport default App;\n","import React, { useRef, useState } from \"react\";\n\nimport Obj2 from \"./Obj2\";\nimport { CameraFilled } from \"@ant-design/icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { Row, Col, Input, Select, Spin } from \"antd\";\nimport \"./styles.scss\";\n\nconst { Option } = Select;\nconst _3DObject = ({ navigation, data }) => {\n  const [takeScreenshotTrigger, setTakeScreenshotTrigger] = useState();\n  const [loading, setLoading] = useState(false);\n  // const [selectedModel, setSelectedModel] = useState(\"Soilder\");\n\n  // const onSearch = (value) => {\n  //   setTakeScreenshotTrigger(null);\n  //   setSelectedModel(value);\n  // };\n  const setTakePhotoLoading = (value) => {\n    setLoading(value);\n  };\n  return (\n    <div style={{ position: \"relative\", width: \"100%\", height: \"100vh\" }}>\n      <Obj2\n        takeScreenshotTrigger={takeScreenshotTrigger}\n        character={data}\n        setLoading={setTakePhotoLoading}\n      />\n      <div\n        style={{\n          position: \"absolute\",\n          right: 40,\n          bottom: 40,\n          textAlign: \"center\",\n        }}\n        onClick={() => setTakeScreenshotTrigger(Date.now())}\n      >\n        {loading ? (\n          <Spin size=\"large\" />\n        ) : (\n          <CameraFilled style={{ fontSize: 60 }} />\n        )}\n        <div style={{}}>Screenshot</div>\n      </div>\n      <div\n        style={{\n          position: \"absolute\",\n          top: 20,\n          display: \"flex\",\n          flexDirection: \"row\",\n          flex: 1,\n          width: \"100%\",\n        }}\n      >\n        <Row\n          style={{\n            flex: 1,\n          }}\n        >\n          <Col xs={24} sm={24} md={12} lg={12} xl={12} xxl={12} span={12}>\n            <div\n              style={{\n                width: \"100%\",\n                display: \"flex\",\n                direction: \"row\",\n                paddingRight: 10,\n                paddingLeft: 10,\n              }}\n            >\n              <div\n                className=\"containerHomeButton\"\n                onClick={() => {\n                  navigation.navigate(\"Home\", {});\n                }}\n              >\n                <FontAwesomeIcon icon={faArrowLeft} className=\"homeIcon\" />\n              </div>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\nexport default _3DObject;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}