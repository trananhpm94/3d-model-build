{"version":3,"sources":["component/screens/Home/ObjectCard/index.js","services/firebase/index.js","component/screens/_3DObject/Obj2.js","services/character.js","component/common/SelectBox/index.js","component/screens/Home/index.js","App.js","component/screens/_3DObject/index.js","reportWebVitals.js","index.js"],"names":["Meta","Card","ObjectCard","imageUrl","title","desciption","getSrc","length","hoverable","style","width","height","cover","borderBottom","alt","src","description","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","scene","renderer","camera","id","firestore","storageRef","storage","ref","db","collection","search","a","where","get","docData","data","docs","map","doc","updateCharacter","character","console","log","update","SelectBox","submidText","onChange","placeholder","loading","useState","text","setText","className","SearchOutlined","onKeyDown","e","keyCode","value","target","CloseOutlined","onClick","LoadingOutlined","Home","navigation","characters","setCharacters","filterValue","setFilterValue","setLoading","firebaseCharacters","setFirebaseCharacters","useEffect","fetchCharacters","searchValue","res","filter","item","name","toLowerCase","indexOf","padding","alig","justify","xs","sm","md","lg","xl","xxl","span","allowClear","size","marginTop","navigate","selectedObject","paddingTop","Obj2","takeScreenshotTrigger","configuration","setModel","model","position","x","y","z","scale","rotation","add","material","THREE","traverse","object","isMesh","castShadow","animate","init","container","document","getElementById","background","fog","near","far","hemiLight","set","dirLight","shadow","top","bottom","left","right","mesh","color","depthWrite","Math","PI","receiveShadow","groundY","url","fileName","type","GLTFLoader","load","gltf","loadGLTFModel","OBJLoader","loadObjModel","antialias","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","outputEncoding","shadowMap","enabled","appendChild","domElement","fov","controls","OrbitControls","enablePan","enableZoom","addEventListener","onWindowResize","aspect","updateProjectionMatrix","render","requestAnimationFrame","cancelAnimationFrame","toBlob","blob","createElement","URL","createObjectURL","href","download","click","Date","now","Image","child","put","contentType","then","snapshot","getDownloadURL","downloadURL","takeScreenshot","zIndex","Select","Option","initComponent","components","key","component","setTakeScreenshotTrigger","textAlign","CameraFilled","fontSize","display","flexDirection","flex","direction","paddingRight","paddingLeft","icon","faArrowLeft","App","currentComponent","setCurrentComponent","setTitle","find","React","componentKey","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.7325cb25.chunk.js","sourcesContent":["import React from \"react\";\nimport { Card, Skeleton } from \"antd\";\nconst { Meta } = Card;\n\nconst ObjectCard = ({ imageUrl, title, desciption }) => {\n  const getSrc = () => {\n    const defaultSrc =\n      \"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg\";\n    if (!imageUrl || imageUrl.length === 0) {\n      return defaultSrc;\n    }\n    return imageUrl;\n  };\n  return (\n    <Card\n      hoverable\n      style={{ width: \"100%\", height: \"100%\" }}\n      cover={\n        <img\n          style={{ borderBottom: \"1px solid #f0f0f0\" }}\n          alt={getSrc(imageUrl)}\n          src={getSrc(imageUrl)}\n        />\n      }\n    >\n      <Meta title={title} description={desciption} />\n    </Card>\n  );\n};\n\nexport default ObjectCard;\n","import firebase from \"firebase\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCO2ql2jkewARMLsR3NObhRu4GFjnQ5Mak\",\n  authDomain: \"d-model-86d23.firebaseapp.com\",\n  projectId: \"d-model-86d23\",\n  storageBucket: \"d-model-86d23.appspot.com\",\n  messagingSenderId: \"894432064505\",\n  appId: \"1:894432064505:web:02ff8840879d300b464328\",\n  measurementId: \"G-D75XP97J5Q\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst firestore = firebase.firestore();\nconst storageRef = firebase.storage().ref();\n\nconst sleep = (milliseconds) => {\n  return new Promise((resolve) => setTimeout(resolve, milliseconds));\n};\n\nexport { firestore, sleep, storageRef };\n\nexport default firebase;\n","import React, { useEffect } from \"react\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\nimport { storageRef } from \"../../../services/firebase\";\nimport { updateCharacter } from \"../../../services/character\";\n\nlet scene, renderer, camera, model, id;\n\nconst Obj2 = ({ takeScreenshotTrigger, character, setLoading }) => {\n  const { configuration } = character.selectedObject;\n  function setModel(model) {\n    model.position.x = 0;\n    model.position.y = 0;\n    model.position.z = 0;\n    model.scale.x = configuration.scale;\n    model.scale.y = configuration.scale;\n    model.scale.z = configuration.scale;\n    model.rotation.y = configuration.rotation;\n    scene.add(model);\n    var material = new THREE.MeshPhongMaterial(configuration.material);\n    model.traverse(function (object) {\n      if (object.isMesh) {\n        object.castShadow = true;\n        if (configuration.material) object.material = material;\n      }\n    });\n    animate();\n  }\n\n  function loadObjModel(url) {\n    console.log(\"url\", url);\n    const loader = new OBJLoader();\n    loader.load(url, function (gltf) {\n      setModel(gltf);\n    });\n  }\n  function loadGLTFModel(url) {\n    console.log(\"url\", url);\n    const loader = new GLTFLoader();\n    loader.load(url, function (gltf) {\n      model = gltf.scene;\n      setModel(model);\n    });\n  }\n  function init() {\n    const container = document.getElementById(\"model\");\n    scene = new THREE.Scene();\n    scene.background = new THREE.Color(0xa0a0a0);\n    scene.fog = new THREE.Fog(\n      0xa0a0a0,\n      character.selectedObject.configuration.near,\n      character.selectedObject.configuration.far\n    );\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\n    hemiLight.position.set(0, 20, 0);\n    scene.add(hemiLight);\n\n    const dirLight = new THREE.DirectionalLight(0xffffff);\n    dirLight.position.set(3, 10, 10);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.top = 2;\n    dirLight.shadow.camera.bottom = -2;\n    dirLight.shadow.camera.left = -2;\n    dirLight.shadow.camera.right = 2;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 40;\n    scene.add(dirLight);\n\n    const mesh = new THREE.Mesh(\n      new THREE.PlaneBufferGeometry(10000, 10000),\n      new THREE.MeshPhongMaterial({ color: 0x999999, depthWrite: false })\n    );\n    mesh.rotation.x = -Math.PI / 2;\n    mesh.receiveShadow = true;\n    mesh.position.set(0, character.selectedObject.configuration.groundY, 0);\n    scene.add(mesh);\n\n    const url = character.selectedObject.fileName;\n    if (character.selectedObject.type === \"GLTFLoader\") {\n      loadGLTFModel(url);\n    } else {\n      loadObjModel(url);\n    }\n    renderer = new THREE.WebGLRenderer({ antialias: true });\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.outputEncoding = THREE.sRGBEncoding;\n    renderer.shadowMap.enabled = true;\n    container.appendChild(renderer.domElement);\n    // camera\n\n    camera = new THREE.PerspectiveCamera(\n      configuration.camera.fov,\n      window.innerWidth / window.innerHeight,\n      configuration.camera.near,\n      configuration.camera.far\n    );\n    camera.position.set(\n      configuration.camera.x,\n      configuration.camera.y,\n      configuration.camera.z\n    );\n\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.enablePan = false;\n    controls.enableZoom = false;\n    controls.target.set(0, 1, 0);\n    controls.update();\n\n    window.addEventListener(\"resize\", onWindowResize, false);\n    animate();\n  }\n\n  function onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.render(scene, camera);\n  }\n\n  useEffect(() => {\n    init();\n    return () => {\n      cancelAnimationFrame(id);\n      window.addEventListener(\"resize\", null, false);\n      renderer.domElement.addEventListener(\"resize\", null, false); //remove listener to render\n      scene = null;\n      renderer = null;\n      camera = null;\n      model = null;\n    };\n  }, []);\n\n  function takeScreenshot() {\n    setLoading(true);\n    renderer.render(scene, camera);\n    renderer.domElement.toBlob(\n      function (blob) {\n        var a = document.createElement(\"a\");\n        var url = URL.createObjectURL(blob);\n        a.href = url;\n        a.download = character.selectedObject.name + \".png\";\n        a.click();\n      },\n      \"image/png\",\n      1.0\n    );\n    let name = character.selectedObject.name + Date.now();\n    renderer.domElement.toBlob(function (blob) {\n      var metadata = {\n        contentType: \"image/png\",\n      };\n      var image = new Image();\n      image.src = blob;\n      storageRef\n        .child(\"image/\" + name)\n        .put(blob, metadata)\n        .then((snapshot) => {\n          snapshot.ref.getDownloadURL().then(function (downloadURL) {\n            setLoading(false);\n            updateCharacter({\n              ...character.selectedObject,\n              ...{\n                // name: \"Robot\",\n                // modelUrl:\n                //   \"https://github.com/huyngogia1997/save_models/raw/main/obj2.obj\",\n                // fileName: \"obj.obj\",\n                imageUrl: downloadURL,\n                // status: \"public\",\n                // configuration: {\n                //   ...character.selectedObject.configuration,\n                //   ...{\n                //     scale: 0.03,\n                //     rotation: 0,\n                //     // material: null,\n                //     material: {\n                //       color: 0xff5533,\n                //       specular: 0x111111,\n                //       shininess: 0,\n                //       // rotation:\n                //     },\n                //     camera: {\n                //       far: 100,\n                //       near: 1,\n                //       x: -1,\n                //       y: 2,\n                //       z: 2,\n                //     },\n                //   },\n                // },\n              },\n            });\n          });\n        });\n    });\n  }\n\n  function animate() {\n    // Render loop\n\n    id = requestAnimationFrame(animate);\n    if (renderer) renderer.render(scene, camera);\n  }\n  useEffect(() => {\n    if (takeScreenshotTrigger) takeScreenshot();\n  }, [takeScreenshotTrigger]);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        zIndex: 0,\n      }}\n      id=\"model\"\n    />\n  );\n};\nexport default Obj2;\n","import { firestore, storageRef } from \"./firebase\";\n\nconst db = firestore.collection(\"character\");\n\nexport const addCharacter = () => {\n  db.add({\n    id: \"dLTD5o5kLp5buGexzrc2\",\n    imageUrl:\n      \"https://firebasestorage.googleapis.com/v0/b/d-model-86d23.appspot.com/o/image%2FLoli1611470872320?alt=media&token=01376524-7b74-4fbf-8759-2f1a720bf60c\",\n    modelUrl: \"obj2.obj\",\n    name: \"Man\",\n    type: \"OBJLoader\",\n    configuration: { far: 1150, fov: 90, near: 1, x: 0, y: 150, z: 300 },\n  });\n};\n\nexport const getFile = async (image) => {\n  storageRef\n    .child(`file/${image}`)\n    .getDownloadURL()\n    .then((url) => {\n      // `url` is the download URL for 'images/stars.jpg'\n      console.log(\"url\", url);\n      // This can be downloaded directly:\n      var xhr = new XMLHttpRequest();\n      xhr.responseType = \"blob\";\n      xhr.onload = (event) => {\n        var blob = xhr.response;\n        console.log(\"blob\", blob);\n      };\n      xhr.open(\"GET\", url);\n      xhr.send();\n\n      // Or inserted into an <img> element\n      // var img = document.getElementById('myimg');\n      // img.setAttribute('src', url);\n    })\n    .catch((error) => {\n      // Handle any errors\n      console.log(\"err\", error);\n    });\n};\nexport const search = async () => {\n  const docData = await db\n    // .orderBy(\"status\")\n    .where(\"status\", \"==\", \"public\")\n    .get();\n  const data = docData.docs.map((doc) => {\n    return { ...doc.data(), ...{ id: doc.id } };\n  });\n  return data;\n};\nexport const updateCharacter = async (character) => {\n  const id = character.id;\n  delete character.id;\n  console.log(id, character);\n  await db.doc(id).update(character);\n};\nexport const uploadFile = async () => {\n  // var file = new File([\"\"], \"Xbot.glb\");\n  const name = `Xbot.glb`;\n  getFile(name);\n  // storageRef\n  //   .child(\"file/\" + name)\n  //   .put(file)\n  //   .then((snapshot) => {\n  //     console.log(\"Uploaded.\");\n  //     snapshot.ref.getDownloadURL().then(function (downloadURL) {\n  //       console.log(downloadURL);\n  //       getFile(name);\n  //     });\n  //   });\n};\n","import React, { useState } from \"react\";\nimport {\n  SearchOutlined,\n  CloseOutlined,\n  LoadingOutlined,\n} from \"@ant-design/icons\";\nimport \"./styles.scss\";\n\nconst SelectBox = ({ submidText, onChange, placeholder, loading }) => {\n  const [text, setText] = useState(null);\n  const handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      if (submidText) submidText(text);\n    }\n  };\n  const handleOnChange = (e) => {\n    const value = e.target.value;\n    setText(value);\n    if (onChange) onChange(value);\n  };\n  const clearText = () => {\n    setText(\"\");\n    if (onChange) onChange(\"\");\n  };\n  return (\n    <div className=\"container\">\n      <SearchOutlined className=\"search-icon\" />\n      <input\n        className=\"input\"\n        onKeyDown={handleKeyDown}\n        onChange={handleOnChange}\n        value={text}\n        placeholder={placeholder}\n      />\n      {!loading && text && text.length > 0 && (\n        <CloseOutlined onClick={clearText} className=\"empty-icon\" />\n      )}\n      {loading && <LoadingOutlined className=\"empty-icon\" />}\n    </div>\n  );\n};\nexport default SelectBox;\n","import React, { useState, useEffect } from \"react\";\nimport ObjectCard from \"./ObjectCard\";\nimport { Row, Col, Spin, Empty } from \"antd\";\nimport { search, uploadFile } from \"../../../services/character\";\n\nimport SelectBox from \"../../common/SelectBox\";\nimport \"./styles.scss\";\n\nconst Home = ({ navigation }) => {\n  const [characters, setCharacters] = useState([]);\n  const [filterValue, setFilterValue] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [firebaseCharacters, setFirebaseCharacters] = useState([]);\n\n  useEffect(() => {\n    fetchCharacters();\n    // uploadFile();\n  }, []);\n\n  const fetchCharacters = async (searchValue) => {\n    setLoading(true);\n    try {\n      const res = await search(searchValue);\n      setFirebaseCharacters(res);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onSearch = (value) => {\n    setFilterValue(value);\n  };\n\n  useEffect(() => {\n    setCharacters(\n      firebaseCharacters.filter(\n        (item) =>\n          item.name.toLowerCase().indexOf(filterValue.toLowerCase()) !== -1\n      )\n    );\n  }, [filterValue, firebaseCharacters]);\n\n  return (\n    <div>\n      <Row style={{ padding: 20 }} alig=\"middle\" justify=\"space-around\">\n        <Col xs={24} sm={24} md={12} lg={12} xl={12} xxl={12} span={12}>\n          <SelectBox\n            placeholder=\"Input a character name\"\n            allowClear\n            onChange={onSearch}\n            loading={loading}\n          />\n        </Col>\n      </Row>\n      {loading && (\n        <Row alig=\"middle\" justify=\"space-around\">\n          <Col>\n            <Spin size=\"large\" style={{ marginTop: 200 }} />\n          </Col>\n        </Row>\n      )}\n      {!loading && characters.length > 0 && (\n        <Row>\n          {characters.map((item) => (\n            <Col\n              style={{ padding: 20 }}\n              xs={24}\n              sm={24}\n              md={12}\n              lg={6}\n              xl={6}\n              xxl={6}\n              span={6}\n            >\n              <div\n                onClick={() => {\n                  navigation.navigate(\"_3DObject\", { selectedObject: item });\n                }}\n                style={{ width: \"100%\", height: \"100%\" }}\n              >\n                <ObjectCard imageUrl={item.imageUrl} title={item.name} />\n              </div>\n            </Col>\n          ))}\n        </Row>\n      )}\n      {!loading && characters.length === 0 && (\n        <Row alig=\"middle\" justify=\"space-around\">\n          <Col style={{ paddingTop: 150 }}>\n            <Empty />\n          </Col>\n        </Row>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Home from \"./component/screens/Home\";\nimport _3DObject from \"./component/screens/_3DObject\";\n\nconst navigation = {\n  configuration: {\n    initComponent: \"Home\",\n  },\n  components: [\n    { key: \"Home\", component: Home, title: \"Home\" },\n    { key: \"_3DObject\", component: _3DObject, title: \"3D Model\" },\n  ],\n};\n\nfunction App() {\n  const [currentComponent, setCurrentComponent] = useState({\n    key: navigation.configuration.initComponent,\n    data: {},\n  });\n  const navigate = (componentKey, data) => {\n    setTitle(componentKey);\n    setCurrentComponent({\n      key: componentKey,\n      data,\n    });\n  };\n  const setTitle = (key) => {\n    document.title = navigation.components.find(\n      (component) => component.key === key\n    ).title;\n  };\n  useEffect(() => {\n    setTitle(currentComponent.key);\n  }, []);\n  return React.createElement(\n    navigation.components.find(\n      (component) => component.key === currentComponent.key\n    ).component,\n    { navigation: { navigate }, data: currentComponent.data }\n  );\n}\n\nexport default App;\n","import React, { useRef, useState } from \"react\";\n\nimport Obj2 from \"./Obj2\";\nimport { CameraFilled } from \"@ant-design/icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { Row, Col, Input, Select, Spin } from \"antd\";\nimport \"./styles.scss\";\n\nconst { Option } = Select;\nconst _3DObject = ({ navigation, data }) => {\n  const [takeScreenshotTrigger, setTakeScreenshotTrigger] = useState();\n  const [loading, setLoading] = useState(false);\n  // const [selectedModel, setSelectedModel] = useState(\"Soilder\");\n\n  // const onSearch = (value) => {\n  //   setTakeScreenshotTrigger(null);\n  //   setSelectedModel(value);\n  // };\n  const setTakePhotoLoading = (value) => {\n    setLoading(value);\n  };\n  return (\n    <div style={{ position: \"relative\", width: \"100%\", height: \"100vh\" }}>\n      <Obj2\n        takeScreenshotTrigger={takeScreenshotTrigger}\n        character={data}\n        setLoading={setTakePhotoLoading}\n      />\n      <div\n        style={{\n          position: \"absolute\",\n          right: 40,\n          bottom: 40,\n          textAlign: \"center\",\n        }}\n        onClick={() => setTakeScreenshotTrigger(Date.now())}\n      >\n        {loading ? (\n          <Spin size=\"large\" />\n        ) : (\n          <CameraFilled style={{ fontSize: 60 }} />\n        )}\n        <div style={{}}>Screenshot</div>\n      </div>\n      <div\n        style={{\n          position: \"absolute\",\n          top: 20,\n          display: \"flex\",\n          flexDirection: \"row\",\n          flex: 1,\n          width: \"100%\",\n        }}\n      >\n        <Row\n          style={{\n            flex: 1,\n          }}\n        >\n          <Col xs={24} sm={24} md={12} lg={12} xl={12} xxl={12} span={12}>\n            <div\n              style={{\n                width: \"100%\",\n                display: \"flex\",\n                direction: \"row\",\n                paddingRight: 10,\n                paddingLeft: 10,\n              }}\n            >\n              <div\n                className=\"containerHomeButton\"\n                onClick={() => {\n                  navigation.navigate(\"Home\", {});\n                }}\n              >\n                <FontAwesomeIcon icon={faArrowLeft} className=\"homeIcon\" />\n              </div>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\nexport default _3DObject;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}