(this.webpackJsonpdemo1=this.webpackJsonpdemo1||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},115:function(e,t,n){},118:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var i=n(10),a=n(0),o=n.n(a),c=n(29),r=n.n(c),s=(n(109),n(35)),d=(n(110),n(32)),l=n.n(d),u=n(47),j=n(137),f=j.a.Meta,p=function(e){var t=e.imageUrl,n=e.title,a=e.desciption,o=function(){return t&&0!==t.length?t:"https://www.generationsforpeace.org/wp-content/uploads/2018/03/empty.jpg"};return Object(i.jsx)(j.a,{hoverable:!0,style:{width:"100%",height:"100%"},cover:Object(i.jsx)("img",{style:{borderBottom:"1px solid #f0f0f0"},alt:o(),src:o()}),children:Object(i.jsx)(f,{title:n,description:a})})},b=n(56),h=n(36),g=n(139),w=n(55),m=n(79),O=n(62);O.a.initializeApp({apiKey:"AIzaSyCO2ql2jkewARMLsR3NObhRu4GFjnQ5Mak",authDomain:"d-model-86d23.firebaseapp.com",projectId:"d-model-86d23",storageBucket:"d-model-86d23.appspot.com",messagingSenderId:"894432064505",appId:"1:894432064505:web:02ff8840879d300b464328",measurementId:"G-D75XP97J5Q"});var x,v,y,S,k,C,z,M=O.a.firestore(),E=O.a.storage().ref(),L=(O.a,M.collection("character")),I=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,i,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,L.get();case 3:return n=e.sent,i=n.docs.map((function(e){return Object(m.a)(Object(m.a)({},e.data()),{id:e.id})})).filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new File([""],"Xbot.glb"),E.child("file/Xbot.glb").put(t).then((function(e){console.log("Uploaded."),e.ref.getDownloadURL().then((function(e){console.log(e)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=n(134),R=n(135),U=n(136),F=(n(115),function(e){var t=e.submidText,n=e.onChange,o=e.placeholder,c=e.loading,r=Object(a.useState)(null),d=Object(s.a)(r,2),l=d[0],u=d[1];return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(H.a,{className:"search-icon"}),Object(i.jsx)("input",{className:"input",onKeyDown:function(e){13===e.keyCode&&t&&t(l)},onChange:function(e){var t=e.target.value;u(t),n&&n(t)},value:l,placeholder:o}),!c&&l&&l.length>0&&Object(i.jsx)(R.a,{onClick:function(){u(""),n&&n("")},className:"empty-icon"}),c&&Object(i.jsx)(U.a,{className:"empty-icon"})]})}),N=(n(118),function(e){var t=e.navigation,n=Object(a.useState)([]),o=Object(s.a)(n,2),c=o[0],r=o[1],d=Object(a.useState)(""),j=Object(s.a)(d,2),f=j[0],m=j[1],O=Object(a.useState)(!1),x=Object(s.a)(O,2),v=x[0],y=x[1];Object(a.useEffect)((function(){S(),D()}),[]);var S=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,I(t);case 4:n=e.sent,r(n);case 6:return e.prev=6,y(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){S(f)}),[f]),Object(i.jsxs)("div",{children:[Object(i.jsx)(b.a,{style:{padding:20},alig:"middle",justify:"space-around",children:Object(i.jsx)(h.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,span:12,children:Object(i.jsx)(F,{placeholder:"Input a character name",allowClear:!0,onChange:function(e){m(e)},loading:v})})}),v&&Object(i.jsx)(b.a,{alig:"middle",justify:"space-around",children:Object(i.jsx)(h.a,{children:Object(i.jsx)(g.a,{size:"large",style:{marginTop:200}})})}),!v&&c.length>0&&Object(i.jsx)(b.a,{children:c.map((function(e){return Object(i.jsx)(h.a,{style:{padding:20},xs:24,sm:24,md:12,lg:6,xl:6,xxl:6,span:6,children:Object(i.jsx)("div",{onClick:function(){t.navigate("_3DObject",{selectedObject:e})},style:{width:"100%",height:"100%"},children:Object(i.jsx)(p,{imageUrl:e.imageUrl,title:e.name})})})}))}),!v&&0===c.length&&Object(i.jsx)(b.a,{alig:"middle",justify:"space-around",children:Object(i.jsx)(h.a,{style:{paddingTop:150},children:Object(i.jsx)(w.a,{})})})]})}),P=n(92),T=n(3),B=n(93),Y=n(94),A=function(e){var t=e.takeScreenshotTrigger,n=e.character,o=e.setLoading;function c(){var e=document.getElementById("model");z=new T.j,(x=new T.ib).background=new T.k(5850923);var t=new T.s(16777215,4473924);t.position.set(0,20,0),x.add(t);var i=new T.l(16777215);i.position.set(3,10,10),i.castShadow=!0,i.shadow.camera.top=2,i.shadow.camera.bottom=-2,i.shadow.camera.left=-2,i.shadow.camera.right=2,i.shadow.camera.near=.1,i.shadow.camera.far=40;var a,o=new T.Z(100,100),c=new T.O({color:16758865}),d=new T.M(o,c);if(d.position.set(0,n.selectedObject.configuration.groundY,0),d.rotation.x=-Math.PI/2,d.scale.set(100,100,100),d.castShadow=!1,d.receiveShadow=!0,x.add(d),"GLTFLoader"===n.selectedObject.type){var l=new T.M(new T.e(100,1,1),c);l.position.x=0,l.position.y=0,l.position.z=-5,l.castShadow=!0,l.receiveShadow=!0,x.add(l);var u=new T.M(new T.e(100,2,1),c);u.position.x=0,u.position.y=0,u.position.z=-6,u.castShadow=!0,u.receiveShadow=!0,x.add(u),a=n.selectedObject.modelUrl,(new P.a).load(a,(function(e){(S=e.scene).rotation.y=n.selectedObject.configuration.roY,x.add(S),S.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),(k=new T.kb(S)).visible=!1,x.add(k),C=new T.b(S),s()}))}else{var j=new T.M(new T.e(1e4,100,100),c);j.position.x=0,j.position.y=n.selectedObject.configuration.groundY,j.position.z=-300,j.castShadow=!0,j.receiveShadow=!0,x.add(j);var f=new T.M(new T.e(1e4,200,100),c);f.position.x=0,f.position.y=n.selectedObject.configuration.groundY,f.position.z=-400,f.castShadow=!0,f.receiveShadow=!0,x.add(f),function(e){var t=new Y.a;t.crossOrigin="anonymous",t.load(e,(function(e){(S=e).position.x=0,S.position.y=n.selectedObject.configuration.groundY,S.position.z=0,x.add(S),S.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),(k=new T.kb(S)).visible=!1,x.add(k),C=new T.b(S),s()}))}(n.selectedObject.modelUrl)}(v=new T.xb({antialias:!0})).setPixelRatio(window.devicePixelRatio),v.setSize(window.innerWidth,window.innerHeight),v.outputEncoding=T.yb,v.shadowMap.enabled=!0,e.appendChild(v.domElement),(y=new T.Y(n.selectedObject.configuration.fov,window.innerWidth/window.innerHeight,n.selectedObject.configuration.near,n.selectedObject.configuration.far)).position.set(n.selectedObject.configuration.x,n.selectedObject.configuration.y,n.selectedObject.configuration.z);var p=new B.a(y,v.domElement);p.enablePan=!1,p.enableZoom=!1,p.target.set(0,1,0),p.update(),window.addEventListener("resize",r,!1)}function r(){y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),v.setSize(window.innerWidth,window.innerHeight)}function s(){requestAnimationFrame(s);var e=z.getDelta();C.update(e),v.render(x,y)}return Object(a.useEffect)((function(){c()}),[]),Object(a.useEffect)((function(){t&&(o(!0),v.render(x,y),v.domElement.toBlob((function(e){var t=document.createElement("a"),i=URL.createObjectURL(e);t.href=i,t.download=n.selectedObject.name+".png",t.click()}),"image/png",1),o(!1))}),[t]),Object(i.jsx)("div",{style:{position:"absolute",zIndex:0},id:"model"})},W=n(141),G=n(95),J=n(99),X=n(138),q=(n(131),X.a.Option,{configuration:{initComponent:"Home"},components:[{key:"Home",component:N,title:"Home"},{key:"_3DObject",component:function(e){var t=e.navigation,n=e.data,o=Object(a.useState)(),c=Object(s.a)(o,2),r=c[0],d=c[1],l=Object(a.useState)(!1),u=Object(s.a)(l,2),j=u[0],f=u[1];return Object(i.jsxs)("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[Object(i.jsx)(A,{takeScreenshotTrigger:r,character:n,setLoading:function(e){f(e)}}),Object(i.jsxs)("div",{style:{position:"absolute",right:40,bottom:40,textAlign:"center"},onClick:function(){return d(Date.now())},children:[j?Object(i.jsx)(g.a,{size:"large"}):Object(i.jsx)(W.a,{style:{fontSize:60}}),Object(i.jsx)("div",{style:{},children:"Screenshot"})]}),Object(i.jsx)("div",{style:{position:"absolute",top:20,display:"flex",flexDirection:"row",flex:1,width:"100%"},children:Object(i.jsx)(b.a,{style:{flex:1},children:Object(i.jsx)(h.a,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,span:12,children:Object(i.jsx)("div",{style:{width:"100%",display:"flex",direction:"row",paddingRight:10,paddingLeft:10},children:Object(i.jsx)("div",{className:"containerHomeButton",onClick:function(){t.navigate("Home",{})},children:Object(i.jsx)(G.a,{icon:J.a,className:"homeIcon"})})})})})})]})},title:"3D Model"}]});var K=function(){var e=Object(a.useState)({key:q.configuration.initComponent,data:{}}),t=Object(s.a)(e,2),n=t[0],i=t[1],c=function(e){document.title=q.components.find((function(t){return t.key===e})).title};return Object(a.useEffect)((function(){c(n.key)}),[]),o.a.createElement(q.components.find((function(e){return e.key===n.key})).component,{navigation:{navigate:function(e,t){c(e),i({key:e,data:t})}},data:n.data})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,142)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),o(e),c(e)}))};r.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(K,{})}),document.getElementById("root")),Q()}},[[132,1,2]]]);
//# sourceMappingURL=main.c7b3e516.chunk.js.map